#1.struct trx_t

```cpp

struct trx_t {  //表示事务的数据结构
...
    bool        abort;      //事务被Abort
    trx_id_t    id;         //事务的标识，事务ID
    trx_id_t    no;         //事务的序列号
    trx_state_t state;      //事务的状态，状态变迁参见图10-1
    ReadView*   read_view;  //活动事务的快照，与并发控制的MVCC机制关联
...
    trx_lock_t  lock;  //事务上的锁信息，与并发控制的封锁机制关联，包括了元数据锁表和记录锁表
...
    ulint       isolation_level;  //事务的隔离级别
...
    bool        is_registered;    //有XA协调器注册
...
    lsn_t       commit_lsn;       //事务提交时刻的LSN，与REDO日志紧密相关，要求REDO日志
                                    遵守WAL规则，事务结束前REDO日志落盘
...
    que_t*      graph;            //查询图
...
    undo_no_t   undo_no; //下一个UNDO日志的记录号，表示事务中被修改或插入的行
...
    trx_savept_t last_sql_stat_start; //保存点，记录上一个SQL的UNDO日志的记录号
    trx_rsegs_t rsegs;   //指向系统表空间和临时表空间，通过表空间与回滚段建立关联
...
    bool  ddl;  //如果是DDL语句则内部开启一个子事务完成DDL操作。事例参见5.1.4节
    bool  internal; //是否是一个内部事务
...
    XID*    xid;  // X/Open XA transaction的标识
...
};
```