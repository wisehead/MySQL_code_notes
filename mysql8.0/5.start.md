#1.mysqld_main

	mysqld_main
	--pre_initialize_performance_schema
	--my_init
	----//initialize thread environment, some mutexes.
	----my_thread_global_init
	------mysql_mutex_init
	--------inline_mysql_mutex_init
	----//Allocate thread specific memory for the thread, used by mysys and dbug
	----my_thread_init//do nothing
	--load_defaults
	----my_load_defaults//Read options from configurations files
	--init_variable_default_paths
	--sys_var_init
	--init_error_log
	----log_builtins_init
	------log_builtins_filter_init//Initialize filtering engine.
	----log_write_errstream
	--adjust_related_options
	----adjust_open_files_limit
	----adjust_max_connections
	----adjust_table_cache_size
	----adjust_table_def_size
	--initialize_performance_schema
	----get_thread_interface(PSI_CURRENT_THREAD_VERSION)
	----get_mutex_interface
	----get_rwlock_interface
	----get_cond_interface
	----get_file_interface
	----get_socket_interface
	----get_table_interface
	----get_mdl_interface
	----get_idle_interface
	----get_stage_interface
	----get_statement_interface
	----get_transaction_interface
	----get_memory_interface
	----get_error_interface
	----get_data_lock_interface
	----get_system_interface
	--init_server_psi_keys
	
	
#2.srv_init
	
	(gdb) bt
	#0  srv_init () at /home/chenhui2/mysql-8018-trunk/storage/innobase/srv/srv0srv.cc:1069
	#1  srv_boot () at /home/chenhui2/mysql-8018-trunk/storage/innobase/srv/srv0srv.cc:1237
	#2  0x000000000229c7fc in srv_start (create_new_db=create_new_db@entry=false, scan_directories=...) at /home/chenhui2/mysql-8018-trunk/storage/innobase/srv/srv0start.cc:1992
	#3  0x000000000212304d in innobase_init_files (tablespaces=0x7fffd17d21a0, dict_init_mode=<optimized out>) at /home/chenhui2/mysql-8018-trunk/storage/innobase/handler/ha_innodb.cc:4949
	#4  innobase_ddse_dict_init (dict_init_mode=DICT_INIT_CHECK_FILES, version=<optimized out>, tables=0x7fffd17d2180, tablespaces=0x7fffd17d21a0) at /home/chenhui2/mysql-8018-trunk/storage/innobase/handler/ha_innodb.cc:12064
	#5  0x0000000001d95861 in dd::bootstrap::DDSE_dict_init (thd=thd@entry=0x568ec50, dict_init_mode=dict_init_mode@entry=DICT_INIT_CHECK_FILES, version=80017) at /home/chenhui2/mysql-8018-trunk/sql/dd/impl/bootstrap/bootstrapper.cc:736
	#6  0x000000000201ea4b in dd::upgrade_57::do_pre_checks_and_initialize_dd (thd=0x568ec50) at /home/chenhui2/mysql-8018-trunk/sql/dd/upgrade_57/upgrade.cc:909
	#7  0x000000000120dd58 in bootstrap::handle_bootstrap (arg=arg@entry=0x7fffffffd600) at /home/chenhui2/mysql-8018-trunk/sql/bootstrap.cc:323
	#8  0x0000000002527d7c in pfs_spawn_thread (arg=0x5697c40) at /home/chenhui2/mysql-8018-trunk/storage/perfschema/pfs.cc:2854
	#9  0x00007ffff7fbfda4 in start_thread (arg=<optimized out>) at pthread_create.c:333
	#10 0x00007ffff7bb132d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:109
	
	
	mysql_declare_plugin(innobase)
	--innodb_init
	----innobase_ddse_dict_init
	------innobase_init_files
	--------srv_start
	----------srv_boot
	------------srv_general_init
	------------srv_init
	
	
#3.mysql_declare_plugin(innobase)

	mysql_declare_plugin(innobase){
    MYSQL_STORAGE_ENGINE_PLUGIN,
    &innobase_storage_engine,
    innobase_hton_name,
    plugin_author,
    "Supports transactions, row-level locking, and foreign keys",
    PLUGIN_LICENSE_GPL,
    innodb_init, /* Plugin Init */                                                                                                                                                                                                                              
    NULL,        /* Plugin Check uninstall */
    NULL,        /* Plugin Deinit */
    INNODB_VERSION_SHORT,
    innodb_status_variables_export, /* status variables */
    innobase_system_variables,      /* system variables */
    NULL,                           /* reserved */
    0,                              /* flags */
    },   
    
    i_s_innodb_trx, i_s_innodb_cmp, i_s_innodb_cmp_reset, i_s_innodb_cmpmem,
    i_s_innodb_cmpmem_reset, i_s_innodb_cmp_per_index,
    i_s_innodb_cmp_per_index_reset, i_s_innodb_buffer_page,
    i_s_innodb_buffer_page_lru, i_s_innodb_buffer_stats,
    i_s_innodb_temp_table_info, i_s_innodb_metrics,
    i_s_innodb_ft_default_stopword, i_s_innodb_ft_deleted,
    i_s_innodb_ft_being_deleted, i_s_innodb_ft_config,
    i_s_innodb_ft_index_cache, i_s_innodb_ft_index_table, i_s_innodb_tables,
    i_s_innodb_tablestats, i_s_innodb_indexes, i_s_innodb_tablespaces,
    i_s_innodb_columns, i_s_innodb_virtual, i_s_innodb_cached_indexes,
    i_s_innodb_session_temp_tablespaces
     
    mysql_declare_plugin_end;



#4 bootstrap::handle_bootstrap

	mysqld_main
	--bootstrap::init_server_components
	----run_bootstrap_thread
	------bootstrap::handle_bootstrap
	
	
